/*!
 * Copyright (c) Christopher Keefer, 2016.
 * jquery-ajax-localstorage-cache: V1.0.1.
 * This file is generated by grunt - do not edit directly.
 * Alter source files as needed, then run `grunt` in project directory.
 * Compiled: 2016-03-26 
 */


!function(a,b){var c=function(a){var b=a.url.replace(/jQuery.*/,"");return a.cache===!1&&(b=b.replace(/([?&])_=[^&]*/,"")),a.cacheKey||b+a.type+(a.data||"")},d=function(a){if(!a)return!1;if(a===!0)return b.localStorage;if("object"==typeof a&&"getItem"in a&&"removeItem"in a&&"setItem"in a)return a;throw new TypeError("localCache must either be a boolean value, or an object which implements the Storage interface.")},e=function(a,b){a.removeItem(b),a.removeItem(b+"cachettl"),a.removeItem(b+"dataType")};a.ajaxPrefilter(function(a){var b,f,g=d(a.localCache),h=a.cacheTTL||5,i=c(a),j=a.isCacheValid;g&&(b=g.getItem(i+"cachettl"),j&&"function"==typeof j&&!j()&&(e(g,i),b=0),b&&b<+new Date&&(e(g,i),b=0),f=g.getItem(i),f||(a.success&&(a.realsuccess=a.success),a.success=function(b,c,d){var f=b,j=this.dataType||d.getResponseHeader("Content-Type");-1!==j.toLowerCase().indexOf("json")&&(f=JSON.stringify(b));try{g.setItem(i,f),g.setItem(i+"cachettl",+new Date+36e5*h),g.setItem(i+"dataType",j)}catch(k){e(g,i),console.log("Cache Error:"+k,i,f)}a.realsuccess&&a.realsuccess(b,c,d)}))}),a.ajaxTransport("+*",function(a){if(a.localCache){var b=c(a),e=d(a.localCache),f=a.dataType||e.getItem(b+"dataType")||"text",g=e?e.getItem(b):!1;if(g)return-1!==f.toLowerCase().indexOf("json")&&(g=JSON.parse(g)),{send:function(a,b){var c={};c[f]=g,b(200,"success",c,"")},abort:function(){console.log("Aborted ajax transport for json cache.")}}}})}(jQuery,window);
//# sourceMappingURL=jalc.min.map